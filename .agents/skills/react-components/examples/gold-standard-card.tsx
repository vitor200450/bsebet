/**
 * Copyright 2026 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */

import type React from "react";
// Note for Agent: The '@' alias refers to the target project's src directory.
// Ensure src/data/mockData.ts is created before generating this component.
import { cardData } from "../data/mockData";

/**
 * Gold Standard: ActivityCard
 * This file serves as the definitive reference for the agent.
 */
interface ActivityCardProps {
	readonly id: string;
	readonly username: string;
	readonly action: "MERGED" | "COMMIT";
	readonly timestamp: string;
	readonly avatarUrl: string;
	readonly repoName: string;
}

export const ActivityCard: React.FC<ActivityCardProps> = ({
	username,
	action,
	timestamp,
	avatarUrl,
	repoName,
}) => {
	const isMerged = action === "MERGED";

	return (
		<div className="flex min-h-14 items-center justify-between gap-4 rounded-lg bg-surface-dark p-4 shadow-sm ring-1 ring-white/10">
			<div className="flex items-center gap-4 overflow-hidden">
				<div
					className="aspect-square h-10 w-10 flex-shrink-0 rounded-full bg-center bg-cover bg-no-repeat"
					style={{ backgroundImage: `url(${avatarUrl})` }}
					aria-label={`Avatar for ${username}`}
				/>

				<div className="flex flex-wrap items-center gap-x-2 gap-y-1 text-sm sm:text-base">
					<a
						href="#"
						className="truncate font-semibold text-primary hover:underline"
					>
						{username}
					</a>

					<span
						className={`inline-block rounded-full px-2 py-0.5 font-semibold text-xs ${
							isMerged
								? "bg-purple-500/30 text-purple-300"
								: "bg-primary/30 text-primary"
						}`}
					>
						{action}
					</span>

					<span className="text-white/60">in</span>

					<a href="#" className="truncate text-primary hover:underline">
						{repoName}
					</a>
				</div>
			</div>

			<div className="shrink-0">
				<p className="font-normal text-sm text-white/50 leading-normal">
					{timestamp}
				</p>
			</div>
		</div>
	);
};

export default ActivityCard;
